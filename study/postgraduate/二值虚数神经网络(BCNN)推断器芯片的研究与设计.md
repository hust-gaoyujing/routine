[TOC]




### 二值虚数神经网络(BCNN)推断器芯片的研究与设计
>[name=zhangxiaodong]
>二值虚数神经网络(BCNN)推断器芯片的研究与设计

#### 摘要


#### ABSTRACT



#### 插图索引



#### 第一章	绪论

##### 	1.1	课题研究背景及意义

​			介绍一下人工智能的发展情景，边缘推断设备的重要性，BCNN算法的优势，RISC-V的兴起与优势，两个结合一下阐述一下当下工作的意义。（COPY一下开题报告的东西，再加一点BCNN的东西，就OK了）



BNN:

![image-20220908105158600](D:\prj\routine\study\postgraduate\二值虚数神经网络(BCNN)推断器芯片的研究与设计.assets\image-20220908105158600.png)



DCN:

![image-20220908105751001](D:\prj\routine\study\postgraduate\二值虚数神经网络(BCNN)推断器芯片的研究与设计.assets\image-20220908105751001.png)



##### 	1.2	研究现状

###### 			1.2.1	BCNN算法的研究现状

​						将之前看的BCNN算法的论文翻译一点，自己再加一点

###### 			1.2.2	RISC-V处理器及其协处理器的研究现状

###### 			1.2.3	边缘推断设备的研究现状

##### 	1.3	本文主要研究内容

​			介绍一下工作内容，

##### 	1.4	本文的章节安排

​			分别用一两句话介绍一下后续的章节。

​	


#### 第二章	CNN与BCNN算法概述

##### 	2.1	卷积神经网络原理


###### 	2.1.1	卷积神经网络
​			八股文.......

###### 	2.1.2	脉动阵列

​		

​			Weight-stationay型脉动阵列：通过数据流图，对weight-stationay进行描述，并介绍该dataflow型的优势及其应用场景。	

​			Output-stationay型脉动阵列：通过数据流图，对weight-stationay进行描述，并介绍该dataflow型的优势及其应用场景。

##### 	2.2	BCNN算法概述

​			简述一下BNN的优势：（1）运算高效；（2）低功耗； （3）稳定性；

​		 	（这一节主要参考论文BCNN: Binary Complex Neural Network）

###### 			2.2.1	二值复数及其计算

​					通过公式等说明二值复数的乘加运算，

###### 			2.2.2	象限二值化

​					zb = sign(x + iy) = sign(x) + isign(y) = xb + iyb

###### 			2.2.3	复数Batch Normalization

##### 	2.4	Zero_DCE++算法概述

​			这一部分需要参考一下王孟雪的md笔记。

##### 	2.5	本章小结



#### 第三章	面向BCNN算法的协处理器设计

​		给出协处理器框图，简述一下功能与设计思想：软硬件协同

##### 	3.1	协处理器设计目标与架构

​		介绍一下协处理器的架构，即Decoupled Access/Excute。对三个指令处理模块的功能做个简述，这一部分用字不会太多。

###### 		3.1.1	设计目标

​					卷积计算、交互、低功耗、并行性等。

###### 		3.1.2	设计架构

​					ExecuteController					

​					LoadController

​					StoreController

##### 	3.2	数据通路及其并行性设计

###### 		3.2.1	数据通路

​		给出设计的数据通路框图，通过对Zero_DCE++算法流程的介绍，引入硬件设计平台的数据通路的介绍。DMA在数据通路中的作用。特别说明该数据通路是针对BCNN算法的二值部分，并根据算法的各层来分层介绍数据在数据通路中如何传输，运算和存储。

###### 		3.2.1 并行性设计

​		说明其并行性的优势和特点。

##### 	3.3	内存设计及数据存储方式

​		介绍Scratchpad和Acumulator的设计，重点说明本次设计的数据存储方式的特点和优势：类NHWC存储。描述该存储方式和NHWC的异同，以及NHWC和NCHW存储方式的区别。

##### 	3.4 	脉动阵列

###### 		3.4.1	weight-stationary型脉动阵列

​					给出结构图，并介绍功能。

###### 		3.4.2	popcount(xor)计算设计

​					介绍pop(xor)计算的硬件实现电路。

##### 	3.5	Batch Normalization硬件实现

​		这一节主要参考论文FINN: A Framework for Fast, Scalable Binarized Neural Network Inference（ 4.2.2 Batchnorm-activation as Threshold）。介绍使用比较器来实现BN层的方法。

##### 	3.6	ISA

​		通过软硬件协同的设计思想引入ISA的重要性和介绍：

###### 		3.6.1	数据移动指令

​			简述一下`mvin`和`mvout`指令；

###### 		3.6.2	配置指令

​			简述一下config指令可以对数据移动和数据计算指令的配置；

###### 		3.6.1	数据移动指令

​			简述一下`preload`和`compute`(包含`compute.preload`，`compute.accumulated`)指令；

##### 	3.7	本章小结



#### 第四章	AI推断器的系统设计

##### 	4.1	RISC-V处理器及协处理器
​		简单介绍一下RISC-V的指令集
###### 		4.1.1	开源处理器Rocket

​			介绍一下伯克利大学的Rocket处理器，包括流水线、支持运算及其各个优势点。


###### 		4.1.2	协处理器Gemmini

​			说明一下GEMM的发展史，引出Gemmini和相类似的研究成果，对比后给出Gemmini的优势，如软硬件协同、全栈等。（这些比较好弄，之前学习Gemmini等都有文字笔记，润色一下就可以）


##### 	4.2	系统硬件架构设计

​			给出框图，阐述结构并介绍主处理器和协处理器之间的交互:ROCC指令。


##### 	4.3	系统软件设计

​			通过Gemmini的ISA，实现BCNN算法的软件库，即C语言实现。如数据的mvin和mvout等。

##### 	4.4 	本章小结



#### 第五章	仿真与测试

##### 	5.1	功能仿真

​			将经过第一层全精度计算的结果送入平台中并进行2-6层的二值计算，将二值计算结果送回计算机中进行第七层的全精度计算，并将结果与电脑计算结果进行对比。

##### 	5.2	资源评估

​			使用vivado对设计的协处理器进行资源评估。

#####	5.3	本章小结			


#### 第六章	总结与展望



#### 参考文献